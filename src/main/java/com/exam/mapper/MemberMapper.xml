<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.exam.mapper.MemberMapper">
 
<select id="idCheck" parameterType="string" resultType="int">
    select count(*)
    from member
    where member_id=#{member_id}
</select>
 
  <insert id="save" parameterType="MemberDTO">
  
			   insert into member (
				           member_id, 
				           member_pw, 
				           member_name, 
				           member_phone,
				           member_address
			   ) values (  #{member_id}, 
				           #{member_pw}, 
				           #{member_name}, 
				           #{member_phone}, 
				           #{member_address})
	</insert>
	
	
    <select id="findById" parameterType="string" resultType="MemberDTO">
    
				    select member_idx, 
				      	   member_id, 
				      	   member_pw, 
				      	   member_name, 
				      	   member_phone, 
				      	   member_date, 
				      	   member_address, 
				      	   member_manager
				      from member
				     where member_id= #{member_id}
	</select>
     
        <!-- 회원가입 -->
  	<insert id="memberAdd" parameterType="MemberDTO">
  	  insert into member (passwd,username,post,addr1,addr2,
  	                     phone1, phone2, phone3, email1, email2
  	                    ) 
  	  values(#{userid},#{passwd},#{username},#{post},#{addr1},#{addr2},
  	                   #{phone1},#{phone2},#{phone3},#{email1},#{email2})

  	</insert>
     
     
     
     <select id="memberList" parameterType="string" resultType="MemberDTO">
     
				    select member_idx, 
				      	   member_id, 
				      	   left(member_pw, 8) as member_pw, 
				      	   member_name, 
				      	   member_phone, 
				      	   member_date, 
				      	   member_address 
				      from member
     </select>
     
     
     <select id="deleteMember" parameterType="string">
     
			   delete from member  
			   		 where member_id= #{member_id}
     </select>
     
     
     <update id="editMember" parameterType="MemberDTO">
     				
     				update member (
				       set member_id = #{member_id}, 
				           member_pw = #{member_pw},
				           member_name = #{member_name},
				           member_phone= #{member_phone},
				           member_address = #{member_address});     	
     </update>
     
     
</mapper>


